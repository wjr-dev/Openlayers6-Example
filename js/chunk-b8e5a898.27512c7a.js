(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8e5a898"],{c6fe:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"map",staticClass:"map-container",attrs:{id:"map"}})},i=[],o=(r("d81d"),r("69af")),a=(r("5bc0"),r("5eee")),s=r("d0e9"),u=r("480c"),l=r("a2c7"),f=r("5831"),c=r("4cdf"),h=r("f403"),p=r("1af9"),d=r("ac3a"),g=r("38f3"),E=function(){function e(e,t){this.name=e,this.data=t,this.texture_=null}return e.prototype.getTexture=function(e){if(!this.texture_){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},e}(),v=E,_=r("5116"),T=r("6d836"),x=r("dc07"),y=r("acc1"),m=r("0ec0"),R=r("01d4"),A=r("7f98"),b=r("2efc"),O=r("aab2"),S=r("86e0"),w=r("345d"),N=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function C(e,t,r){var n=r?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n)}function U(e,t,r,n){C(e,t,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}function L(e,t,r,n,i,o){var a=e.getGL();C(a,t,o);var s,u,l=r.byteLength/n[1],f=1;switch(l%8===0?f=8:l%4===0?f=4:l%2===0&&(f=2),i){case 1:s=a.LUMINANCE;break;case 2:s=a.LUMINANCE_ALPHA;break;case 3:s=a.RGB;break;case 4:s=a.RGBA;break;default:throw new Error("Unsupported number of bands: "+i)}r instanceof Float32Array?(u=a.FLOAT,e.getExtension("OES_texture_float"),e.getExtension("OES_texture_float_linear")):u=a.UNSIGNED_BYTE;var c=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,f),a.texImage2D(a.TEXTURE_2D,0,s,n[0],n[1],0,s,u,r),a.pixelStorei(a.UNPACK_ALIGNMENT,c)}var M=function(e){function t(t,r,n){var i=e.call(this)||this;i.tile,i.textures=[],i.handleTileChange_=i.handleTileChange_.bind(i),i.size=Object(w["c"])(r.getTileSize(t.tileCoord[0])),i.bandCount=NaN,i.helper_=n;var o=new O["a"](S["a"],S["e"]);return o.fromArray([0,1,1,1,1,0,0,0]),n.flushBufferData(o),i.coords=o,i.setTile(t),i}return N(t,e),t.prototype.setTile=function(e){e!==this.tile&&(this.tile&&this.tile.removeEventListener(R["a"].CHANGE,this.handleTileChange_),this.tile=e,this.textures.length=0,this.loaded=e.getState()===y["a"].LOADED,this.loaded?this.uploadTile_():e.addEventListener(R["a"].CHANGE,this.handleTileChange_))},t.prototype.uploadTile_=function(){var e=this.helper_,t=e.getGL(),r=this.tile;if(r instanceof A["a"]||r instanceof b["a"]){var n=t.createTexture();return this.textures.push(n),this.bandCount=4,void U(t,n,r.getImage(),r.interpolate)}var i=r.getData(),o=i instanceof Float32Array,a=this.size[0]*this.size[1],s=o?Float32Array:Uint8Array,u=s.BYTES_PER_ELEMENT,l=i.byteLength/this.size[1];this.bandCount=Math.floor(l/u/this.size[0]);var f=Math.ceil(this.bandCount/4);if(1===f){n=t.createTexture();return this.textures.push(n),void L(e,n,i,this.size,this.bandCount,r.interpolate)}for(var c=new Array(f),h=0;h<f;++h){n=t.createTexture();this.textures.push(n);var p=h<f-1?4:this.bandCount%4;c[h]=new s(a*p)}for(var d=0,g=0,E=this.size[0]*this.bandCount,v=0;v<this.size[1];++v){for(var _=0;_<E;++_){var T=i[g+_],x=Math.floor(d/this.bandCount),y=_%this.bandCount,m=(h=Math.floor(y/4),c[h]),R=(p=m.length/a,y%4);m[x*p+R]=T,++d}g+=l/u}for(h=0;h<f;++h){n=this.textures[h],m=c[h],p=m.length/a;L(e,n,m,this.size,p,r.interpolate)}},t.prototype.handleTileChange_=function(){this.tile.getState()===y["a"].LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(R["a"].CHANGE))},t.prototype.disposeInternal=function(){var e=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var t=0;t<this.textures.length;++t)e.deleteTexture(this.textures[t]);this.tile.removeEventListener(R["a"].CHANGE,this.handleTileChange_)},t}(m["a"]),G=M,B=r("cae5"),I=r("5e7e"),D=r("a896"),j=r("be6c"),z=r("2c30"),P=r("256f"),X=r("0af5"),F=r("1300"),Y=r("9f5e"),V=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},H={TEXTURE_COORD:"a_textureCoord"},W=[{name:H.TEXTURE_COORD,size:2,type:I["a"].FLOAT}],J={};function q(e){return 2*(1-1/(e+1))-1}function K(e,t,r){r in e||(e[r]=[]),e[r].push(t)}function Z(e,t){var r=e.layerStatesArray[e.layerIndex];r.extent&&(t=Object(X["A"])(t,Object(P["f"])(r.extent,e.viewState.projection)));var n=r.layer.getSource();if(!n.getWrapX()){var i=n.tileGrid.getExtent();i&&(t=Object(X["A"])(t,i))}return t}var Q=function(e){function t(t,r){var n=e.call(this,t,{uniforms:r.uniforms})||this;n.tileTransform_=Object(D["c"])(),n.tempMat4_=Object(j["a"])(),n.tempTileRange_=new x["b"](0,0,0,0),n.tempTileCoord_=Object(z["a"])(0,0,0),n.tempSize_=[0,0],n.program_,n.vertexShader_=r.vertexShader,n.fragmentShader_=r.fragmentShader,n.indices_=new O["a"](S["c"],S["e"]),n.indices_.fromArray([0,1,3,1,2,3]);var i=void 0!==r.cacheSize?r.cacheSize:512;return n.tileTextureCache_=new _["a"](i),n.paletteTextures_=r.paletteTextures||[],n}return V(t,e),t.prototype.reset=function(t){e.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},t.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},t.prototype.isDrawableTile_=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==y["a"].LOADED||r==y["a"].EMPTY||r==y["a"].ERROR&&!n},t.prototype.prepareFrameInternal=function(e){var t=this.getLayer(),r=t.getSource();return!!r&&(!Object(X["G"])(Z(e,e.extent))&&r.getState()===T["a"].READY)},t.prototype.enqueueTiles=function(e,t,r,n){var i=e.viewState,o=this.getLayer(),a=o.getSource(),s=a.getTileGridForProjection(i.projection),u=this.tileTextureCache_,l=s.getTileRangeForExtentAndZ(t,r,this.tempTileRange_),f=Object(F["c"])(a);f in e.wantedTiles||(e.wantedTiles[f]={});for(var c=e.wantedTiles[f],h=s.getResolution(r),p=l.minX;p<=l.maxX;++p)for(var d=l.minY;d<=l.maxY;++d){var g=Object(z["a"])(r,p,d,this.tempTileCoord_),E=Object(z["c"])(g),v=void 0,_=void 0;if(u.containsKey(E)&&(v=u.get(E),_=v.tile),!v||v.tile.key!==a.getKey())if(_=a.getTile(r,p,d,e.pixelRatio,i.projection),v)if(this.isDrawableTile_(_))v.setTile(_);else{var T=_.getInterimTile();v.setTile(T)}else v=new G(_,s,this.helper),u.set(E,v);K(n,v,r);var x=_.getKey();c[x]=!0,_.getState()===y["a"].IDLE&&(e.tileQueue.isKeyQueued(x)||e.tileQueue.enqueue([_,f,s.getTileCoordCenter(g),h]))}},t.prototype.renderFrame=function(e){var t=this.helper.getGL();this.preRender(t,e);var r=e.viewState,n=this.getLayer(),i=n.getSource(),o=i.getTileGridForProjection(r.projection),a=Z(e,e.extent),s=o.getZForResolution(r.resolution,i.zDirection),u={};if(e.nextExtent){var l=o.getZForResolution(r.nextResolution,i.zDirection),f=Z(e,e.nextExtent);this.enqueueTiles(e,f,l,u)}this.enqueueTiles(e,a,s,u);for(var c={},h=Object(F["c"])(this),p=e.time,d=!1,g=u[s],E=0,v=g.length;E<v;++E){var _=g[E],T=_.tile,x=T.tileCoord;if(_.loaded){var y=T.getAlpha(h,p);if(1===y){T.endTransition(h);continue}d=!0;var m=Object(z["c"])(x);c[m]=y}var R=this.findAltTiles_(o,x,s+1,u);if(!R)for(var A=o.getMinZoom(),b=s-1;b>=A;--b){var O=this.findAltTiles_(o,x,b,u);if(O)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(e,!d);for(var S=Object.keys(u).map(Number).sort(Y["g"]),N=r.center[0],C=r.center[1],U=0,L=S.length;U<L;++U){var M=S[U],G=o.getResolution(M),B=Object(w["c"])(o.getTileSize(M),this.tempSize_),I=o.getOrigin(M),P=(N-I[0])/(B[0]*G),X=(I[1]-C)/(B[1]*G),V=r.resolution/G,H=q(M),K=u[M];for(E=0,v=K.length;E<v;++E){_=K[E];if(_.loaded){T=_.tile,x=T.tileCoord,m=Object(z["c"])(x);var Q=x[1],$=x[2];Object(D["b"])(this.tileTransform_,0,0,2/(e.size[0]*V/B[0]),-2/(e.size[1]*V/B[1]),r.rotation,-(P-Q),-(X-$)),this.helper.setUniformMatrixValue(k.TILE_TRANSFORM,Object(j["b"])(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(_.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(W);var ee=0;while(ee<_.textures.length){var te="TEXTURE"+ee,re=k.TILE_TEXTURE_ARRAY+"["+ee+"]";t.activeTexture(t[te]),t.bindTexture(t.TEXTURE_2D,_.textures[ee]),t.uniform1i(this.helper.getUniformLocation(re),ee),++ee}for(var ne=0;ne<this.paletteTextures_.length;++ne){var ie=this.paletteTextures_[ne];t.activeTexture(t["TEXTURE"+ee]);var oe=ie.getTexture(t);t.bindTexture(t.TEXTURE_2D,oe),t.uniform1i(this.helper.getUniformLocation(ie.name),ee),++ee}y=m in c?c[m]:1;y<1&&(e.animate=!0),this.helper.setUniformFloatValue(k.TRANSITION_ALPHA,y),this.helper.setUniformFloatValue(k.DEPTH,H),this.helper.setUniformFloatValue(k.TEXTURE_PIXEL_WIDTH,B[0]),this.helper.setUniformFloatValue(k.TEXTURE_PIXEL_HEIGHT,B[1]),this.helper.setUniformFloatValue(k.RESOLUTION,r.resolution),this.helper.setUniformFloatValue(k.ZOOM,r.zoom),this.helper.drawElements(0,this.indices_.getSize())}}}this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var ae=this.helper.getCanvas(),se=this.tileTextureCache_;while(se.canExpireCache()){_=se.pop();_.dispose()}var ue=function(e,t){i.expireCache(t.viewState.projection,J)};return e.postRenderFunctions.push(ue),this.postRender(t,e),ae},t.prototype.findAltTiles_=function(e,t,r,n){var i=e.getTileRangeForTileCoordAndZ(t,r,this.tempTileRange_);if(!i)return!1;for(var o=!0,a=this.tileTextureCache_,s=i.minX;s<=i.maxX;++s)for(var u=i.minY;u<=i.maxY;++u){var l=Object(z["d"])(r,s,u),f=!1;if(a.containsKey(l)){var c=a.get(l);c.loaded&&(K(n,c,r),f=!0)}f||(o=!1)}return o},t.prototype.disposeInternal=function(){var t=this.helper,r=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,r.deleteProgram(this.program_),delete this.program_;var n=this.tileTextureCache_;n.forEach((function(e){e.dispose()})),n.clear(),delete this.tileTextureCache_,e.prototype.disposeInternal.call(this)},t}(B["d"]);Q.prototype.getLayer;var $=r("5c38"),ee=r("7fc9"),te={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},re={};function ne(e){if("number"===typeof e)return te.NUMBER;if("boolean"===typeof e)return te.BOOLEAN;if("string"===typeof e)return Object($["d"])(e)?te.COLOR|te.STRING:te.STRING;if(!Array.isArray(e))throw new Error("Unhandled value type: "+JSON.stringify(e));var t=e,r=t.every((function(e){return"number"===typeof e}));if(r)return 3===t.length||4===t.length?te.COLOR|te.NUMBER_ARRAY:te.NUMBER_ARRAY;if("string"!==typeof t[0])throw new Error("Expected an expression operator but received: "+JSON.stringify(t));var n=re[t[0]];if(void 0===n)throw new Error("Unrecognized expression operator: "+JSON.stringify(t));return n.getReturnType(t.slice(1))}function ie(e){return Object(ee["f"])(e)%1===0}function oe(e){var t=e.toString();return-1===t.indexOf(".")?t+".0":t}function ae(e){if(e.length<2||e.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+e.length+"("+e.map(oe).join(", ")+")"}function se(e){var t=Object($["a"])(e).slice();return t.length<4&&t.push(1),ae(t.map((function(e,t){return t<3?e/255:e})))}function ue(e,t){return void 0===e.stringLiteralsMap[t]&&(e.stringLiteralsMap[t]=Object.keys(e.stringLiteralsMap).length),e.stringLiteralsMap[t]}function le(e,t){return oe(ue(e,t))}function fe(e,t,r){if(Array.isArray(t)&&"string"===typeof t[0]){var n=re[t[0]];if(void 0===n)throw new Error("Unrecognized expression operator: "+JSON.stringify(t));return n.toGlsl(e,t.slice(1),r)}var i=ne(t);if((i&te.NUMBER)>0)return oe(t);if((i&te.BOOLEAN)>0)return t.toString();if((i&te.STRING)>0&&(void 0===r||r==te.STRING))return le(e,t.toString());if((i&te.COLOR)>0&&(void 0===r||r==te.COLOR))return se(t);if((i&te.NUMBER_ARRAY)>0)return ae(t);throw new Error("Unexpected expression "+t+" (expected type "+r+")")}function ce(e){if(!(ne(e)&te.NUMBER))throw new Error("A numeric value was expected, got "+JSON.stringify(e)+" instead")}function he(e){for(var t=0;t<e.length;t++)ce(e[t])}function pe(e){if(!(ne(e)&te.STRING))throw new Error("A string value was expected, got "+JSON.stringify(e)+" instead")}function de(e){if(!(ne(e)&te.BOOLEAN))throw new Error("A boolean value was expected, got "+JSON.stringify(e)+" instead")}function ge(e,t){if(e.length!==t)throw new Error("Exactly "+t+" arguments were expected, got "+e.length+" instead")}function Ee(e,t){if(e.length<t)throw new Error("At least "+t+" arguments were expected, got "+e.length+" instead")}function ve(e,t){if(e.length>t)throw new Error("At most "+t+" arguments were expected, got "+e.length+" instead")}function _e(e){if(e.length%2!==0)throw new Error("An even amount of arguments was expected, got "+e+" instead")}function Te(e){if(e.length%2===0)throw new Error("An odd amount of arguments was expected, got "+e+" instead")}function xe(e,t){if(!ie(t))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(e))}function ye(e){return"u_var_"+e}re["get"]={getReturnType:function(e){return te.ANY},toGlsl:function(e,t){ge(t,1),pe(t[0]);var r=t[0].toString();-1===e.attributes.indexOf(r)&&e.attributes.push(r);var n=e.inFragmentShader?"v_":"a_";return n+r}},re["var"]={getReturnType:function(e){return te.ANY},toGlsl:function(e,t){ge(t,1),pe(t[0]);var r=t[0].toString();return-1===e.variables.indexOf(r)&&e.variables.push(r),ye(r)}};var me="u_paletteTextures";re["palette"]={getReturnType:function(e){return te.COLOR},toGlsl:function(e,t){ge(t,2),ce(t[0]);var r=fe(e,t[0]),n=t[1];if(!Array.isArray(n))throw new Error("The second argument of palette must be an array");for(var i=n.length,o=new Uint8Array(4*i),a=0;a<i;a++){var s=n[a],u=void 0;if("string"===typeof s)u=Object($["c"])(s);else{if(!Array.isArray(s))throw new Error("The second argument of palette must be an array of strings or colors");var l=s.length;if(4===l)u=s;else{if(3!==l)throw new Error("Expected palette color to have 3 or 4 values, got "+l);u=[s[0],s[1],s[2],1]}}var f=4*a;o[f]=u[0],o[f+1]=u[1],o[f+2]=u[2],o[f+3]=255*u[3]}e.paletteTextures||(e.paletteTextures=[]);var c=me+"["+e.paletteTextures.length+"]",h=new v(c,o);return e.paletteTextures.push(h),"texture2D("+c+", vec2(("+r+" + 0.5) / "+i+".0, 0.5))"}};var Re="getBandValue";function Ae(e){return{getReturnType:function(e){return te.BOOLEAN},toGlsl:function(t,r){ge(r,2);for(var n=te.ANY,i=0;i<r.length;i++)n&=ne(r[i]);if(n===te.NONE)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(r)+" instead");return n&=~te.COLOR,"("+fe(t,r[0],n)+" "+e+" "+fe(t,r[1],n)+")"}}}function be(e){return{getReturnType:function(e){return te.BOOLEAN},toGlsl:function(t,r){Ee(r,2);for(var n=0;n<r.length;n++)de(r[n]);var i="";return i=r.map((function(e){return fe(t,e)})).join(" "+e+" "),i="("+i+")",i}}}re["band"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){Ee(t,1),ve(t,3);var r=t[0];if(!(Re in e.functions)){for(var n="",i=e.bandCount||1,o=0;o<i;o++){var a=Math.floor(o/4),s=o%4;s===i-1&&1===s&&(s=3);var u=k.TILE_TEXTURE_ARRAY+"["+a+"]";n+="\n          if (band == "+(o+1)+".0) {\n            return texture2D("+u+", v_textureCoord + vec2(dx, dy))["+s+"];\n          }\n        "}e.functions[Re]="\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx = xOffset / "+k.TEXTURE_PIXEL_WIDTH+";\n          float dy = yOffset / "+k.TEXTURE_PIXEL_HEIGHT+";\n          "+n+"\n        }\n      "}var l=fe(e,r),f=fe(e,t[1]||0),c=fe(e,t[2]||0);return Re+"("+l+", "+f+", "+c+")"}},re["time"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,0),"u_time"}},re["zoom"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,0),"u_zoom"}},re["resolution"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,0),"u_resolution"}},re["*"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" * "+fe(e,t[1])+")"}},re["/"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" / "+fe(e,t[1])+")"}},re["+"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" + "+fe(e,t[1])+")"}},re["-"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" - "+fe(e,t[1])+")"}},re["clamp"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){ge(t,3),he(t);var r=fe(e,t[1]),n=fe(e,t[2]);return"clamp("+fe(e,t[0])+", "+r+", "+n+")"}},re["%"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"mod("+fe(e,t[0])+", "+fe(e,t[1])+")"}},re["^"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,2),he(t),"pow("+fe(e,t[0])+", "+fe(e,t[1])+")"}},re["abs"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,1),he(t),"abs("+fe(e,t[0])+")"}},re["sin"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,1),he(t),"sin("+fe(e,t[0])+")"}},re["cos"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return ge(t,1),he(t),"cos("+fe(e,t[0])+")"}},re["atan"]={getReturnType:function(e){return te.NUMBER},toGlsl:function(e,t){return Ee(t,1),ve(t,2),he(t),2===t.length?"atan("+fe(e,t[0])+", "+fe(e,t[1])+")":"atan("+fe(e,t[0])+")"}},re[">"]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" > "+fe(e,t[1])+")"}},re[">="]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" >= "+fe(e,t[1])+")"}},re["<"]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" < "+fe(e,t[1])+")"}},re["<="]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){return ge(t,2),he(t),"("+fe(e,t[0])+" <= "+fe(e,t[1])+")"}},re["=="]=Ae("=="),re["!="]=Ae("!="),re["!"]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){return ge(t,1),de(t[0]),"(!"+fe(e,t[0])+")"}},re["all"]=be("&&"),re["any"]=be("||"),re["between"]={getReturnType:function(e){return te.BOOLEAN},toGlsl:function(e,t){ge(t,3),he(t);var r=fe(e,t[1]),n=fe(e,t[2]),i=fe(e,t[0]);return"("+i+" >= "+r+" && "+i+" <= "+n+")"}},re["array"]={getReturnType:function(e){return te.NUMBER_ARRAY},toGlsl:function(e,t){Ee(t,2),ve(t,4),he(t);var r=t.map((function(t){return fe(e,t,te.NUMBER)}));return"vec"+t.length+"("+r.join(", ")+")"}},re["color"]={getReturnType:function(e){return te.COLOR},toGlsl:function(e,t){Ee(t,3),ve(t,4),he(t);var r=t;3===t.length&&r.push(1);var n=t.map((function(t,r){return fe(e,t,te.NUMBER)+(r<3?" / 255.0":"")}));return"vec"+t.length+"("+n.join(", ")+")"}},re["interpolate"]={getReturnType:function(e){for(var t=te.COLOR|te.NUMBER,r=3;r<e.length;r+=2)t&=ne(e[r]);return t},toGlsl:function(e,t,r){_e(t),Ee(t,6);var n,i=t[0];switch(i[0]){case"linear":n=1;break;case"exponential":n=i[1];break;default:n=null}if(!n)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(i));var o=void 0!==r?r:te.ANY,a=re["interpolate"].getReturnType(t)&o;xe(t,a);for(var s=fe(e,t[1]),u=oe(n),l="",f=2;f<t.length-2;f+=2){var c=fe(e,t[f]),h=l||fe(e,t[f+1],a),p=fe(e,t[f+2]),d=fe(e,t[f+3],a);l="mix("+h+", "+d+", pow(clamp(("+s+" - "+c+") / ("+p+" - "+c+"), 0.0, 1.0), "+u+"))"}return l}},re["match"]={getReturnType:function(e){for(var t=te.ANY,r=2;r<e.length;r+=2)t&=ne(e[r]);return t&=ne(e[e.length-1]),t},toGlsl:function(e,t,r){_e(t),Ee(t,4);var n=void 0!==r?r:te.ANY,i=re["match"].getReturnType(t)&n;xe(t,i);for(var o=fe(e,t[0]),a=fe(e,t[t.length-1],i),s=null,u=t.length-3;u>=1;u-=2){var l=fe(e,t[u]),f=fe(e,t[u+1],i);s="("+o+" == "+l+" ? "+f+" : "+(s||a)+")"}return s}},re["case"]={getReturnType:function(e){for(var t=te.ANY,r=1;r<e.length;r+=2)t&=ne(e[r]);return t&=ne(e[e.length-1]),t},toGlsl:function(e,t,r){Te(t),Ee(t,3);var n=void 0!==r?r:te.ANY,i=re["case"].getReturnType(t)&n;xe(t,i);for(var o=0;o<t.length-1;o+=2)de(t[o]);var a=fe(e,t[t.length-1],i),s=null;for(o=t.length-3;o>=0;o-=2){var u=fe(e,t[o]),l=fe(e,t[o+1],i);s="("+u+" ? "+l+" : "+(s||a)+")"}return s}};var Oe=function(){function e(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return e.prototype.addUniform=function(e){return this.uniforms.push(e),this},e.prototype.addAttribute=function(e){return this.attributes.push(e),this},e.prototype.addVarying=function(e,t,r){return this.varyings.push({name:e,type:t,expression:r}),this},e.prototype.setSizeExpression=function(e){return this.sizeExpression=e,this},e.prototype.setRotationExpression=function(e){return this.rotationExpression=e,this},e.prototype.setSymbolOffsetExpression=function(e){return this.offsetExpression=e,this},e.prototype.setColorExpression=function(e){return this.colorExpression=e,this},e.prototype.setTextureCoordinateExpression=function(e){return this.texCoordExpression=e,this},e.prototype.setFragmentDiscardExpression=function(e){return this.discardExpression=e,this},e.prototype.setSymbolRotateWithView=function(e){return this.rotateWithView=e,this},e.prototype.getSizeExpression=function(){return this.sizeExpression},e.prototype.getOffsetExpression=function(){return this.offsetExpression},e.prototype.getColorExpression=function(){return this.colorExpression},e.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},e.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},e.prototype.getSymbolVertexShader=function(e){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",r=this.attributes,n=this.varyings;return e&&(r=r.concat("vec4 a_hitColor"),n=n.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map((function(e){return"uniform "+e+";"})).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+r.map((function(e){return"attribute "+e+";"})).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+n.map((function(e){return"varying "+e.type+" "+e.name+";"})).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix = "+t+";\n  vec2 halfSize = "+this.sizeExpression+" * 0.5;\n  vec2 offset = "+this.offsetExpression+";\n  float angle = "+this.rotationExpression+";\n  float offsetX;\n  float offsetY;\n  if (a_index == 0.0) {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index == 1.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index == 2.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord = "+this.texCoordExpression+";\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v_quadCoord = vec2(u, v);\n"+n.map((function(e){return"  "+e.name+" = "+e.expression+";"})).join("\n")+"\n}"},e.prototype.getSymbolFragmentShader=function(e){var t=e?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",r=this.varyings;return e&&(r=r.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map((function(e){return"uniform "+e+";"})).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+r.map((function(e){return"varying "+e.type+" "+e.name+";"})).join("\n")+"\nvoid main(void) {\n  if ("+this.discardExpression+") { discard; }\n  gl_FragColor = "+this.colorExpression+";\n  gl_FragColor.rgb *= gl_FragColor.a;\n"+t+"\n}"},e}();function Se(e){var t=e.symbol,r=void 0!==t.size?t.size:1,n=t.color||"white",i=t.textureCoord||[0,0,1,1],o=t.offset||[0,0],a=void 0!==t.opacity?t.opacity:1,s=void 0!==t.rotation?t.rotation:0,u={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},l=fe(u,r,te.NUMBER_ARRAY|te.NUMBER),f=fe(u,o,te.NUMBER_ARRAY),c=fe(u,i,te.NUMBER_ARRAY),h=fe(u,s,te.NUMBER),p={inFragmentShader:!0,variables:u.variables,attributes:[],stringLiteralsMap:u.stringLiteralsMap,functions:{}},d=fe(p,n,te.COLOR),g=fe(p,a,te.NUMBER),E="1.0",v="vec2("+fe(p,r,te.NUMBER_ARRAY|te.NUMBER)+").x";switch(t.symbolType){case"square":break;case"image":break;case"circle":E="(1.0-smoothstep(1.-4./"+v+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var _="(v_quadCoord*2.-1.)",T="(atan("+_+".x,"+_+".y))";E="(1.0-smoothstep(.5-3./"+v+",.5,cos(floor(.5+"+T+"/2.094395102)*2.094395102-"+T+")*length("+_+")))";break;default:throw new Error("Unexpected symbol type: "+t.symbolType)}var x=(new Oe).setSizeExpression("vec2("+l+")").setRotationExpression(h).setSymbolOffsetExpression(f).setTextureCoordinateExpression(c).setSymbolRotateWithView(!!t.rotateWithView).setColorExpression("vec4("+d+".rgb, "+d+".a * "+g+" * "+E+")");if(e.filter){var y=fe(p,e.filter,te.BOOLEAN);x.setFragmentDiscardExpression("!"+y)}var m={};if(p.variables.forEach((function(t){var r=ye(t);x.addUniform("float "+r),m[r]=function(){if(!e.variables||void 0===e.variables[t])throw new Error("The following variable is missing from the style: "+t);var r=e.variables[t];return"string"===typeof r&&(r=ue(u,r)),void 0!==r?r:-9999999}})),"image"===t.symbolType&&t.src){var R=new Image;R.src=t.src,x.addUniform("sampler2D u_texture").setColorExpression(x.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),m["u_texture"]=R}return p.attributes.forEach((function(e){-1===u.attributes.indexOf(e)&&u.attributes.push(e),x.addVarying("v_"+e,"float","a_"+e)})),u.attributes.forEach((function(e){x.addAttribute("float a_"+e)})),{builder:x,attributes:u.attributes.map((function(e){return{name:e,callback:function(t,r){var n=r[e];return"string"===typeof n&&(n=ue(u,n)),void 0!==n?n:-9999999}}})),uniforms:m}}var we=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ne=function(e){function t(t){var r=this,n=Object(g["a"])({},t);return r=e.call(this,n)||this,r.parseResult_=Se(t.style),r.hitDetectionDisabled_=!!t.disableHitDetection,r}return we(t,e),t.prototype.createRenderer=function(){return new d["a"](this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},t}(p["a"]),Ce=Ne,Ue={name:"IconPoints",mixins:[o["a"]],data:function(){return{map:null,vectorSource:null,webGLPointsLayer:null,coordinates:[[13382758.600105051,3529634.5145874037],[13383231.554217564,3529644.0692159394],[13383393.98290267,3529648.846530207],[13383475.197245223,3529687.06504435],[13383532.525016438,3529734.838187028],[13383575.520844849,3529820.829843849],[13383651.957873134,3529892.489557866],[13383752.281472757,3529949.81732908],[13383905.155529328,3530007.145100294],[13384024.588386023,3530016.69972883],[13384191.794385398,3530026.2543573654],[13384411.550841717,3530035.808985901],[13384636.084612304,3530097.9140713825],[13384841.509125821,3530193.460356739],[13384960.941982517,3530284.2293278277],[13385118.593353355,3530379.775613184],[13385261.91278139,3530503.9857841474],[13385419.564152228,3530585.2001267006],[13385591.54746587,3530661.6371549857],[13385878.186321938,3530742.851497539],[13386174.379806545,3530809.7338972883],[13386461.018662613,3530881.393611306],[13386699.884376004,3530723.7422404676],[13386852.758432575,3530609.08669804],[13386967.413975002,3530403.6621845234],[13387005.632489145,3530226.901556614],[13387010.409803413,3530083.5821285793],[13386981.745917806,3529964.1492718835],[13386890.976946717,3529844.716415188],[13386790.653347094,3529706.1743014213],[13386633.001976255,3529591.518758993],[13386451.464034079,3529510.3044164404],[13386040.615007045,3529639.2919016713],[13385796.971979385,3529706.1743014213],[13385534.219694655,3529782.6113297064],[13385333.572495406,3529935.4853862766],[13385319.240552604,3530193.460356739],[13385118.593353355,3530437.103384398],[13384793.735983143,3530599.5320695043],[13384363.777699038,3530747.6288118064]],style:{symbol:{symbolType:"image",src:r("ca10"),size:16,rotateWithView:!1,offset:[0,0],rotation:["get","rotation"]}}}},mounted:function(){this.initMap(),this.initSource(),this.initWebGLPointsLayer(),this.map.addLayer(this.webGLPointsLayer);var e=this.coordinates.map((function(e){return new c["a"]({geometry:new h["a"](e),rotation:2*Math.random()*Math.PI})}));this.vectorSource.addFeatures(e)},methods:{initMap:function(){this.map=new a["a"]({target:"map",layers:[new u["a"]({source:new s["a"]})],view:new l["a"]({center:[13384755.517469,3529894.878215],zoom:15})})},initSource:function(){this.vectorSource=new f["a"]},initWebGLPointsLayer:function(){this.webGLPointsLayer=new Ce({source:this.vectorSource,style:this.style})}}},Le=Ue,Me=r("2877"),Ge=Object(Me["a"])(Le,n,i,!1,null,null,null);t["default"]=Ge.exports},ca10:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAUZJREFUKBV9j79KA0EQxmd2748XRMXjkijYmCKIxJwJIY2FhfEB9Am0CIhvYWtjkUjsRH0Yi4AgImglklYIEvP3dsfbwz2TGBwYGH7ffLvzAcyo8t3yguoZErBpmK+lN7sdePv6xBc1T+t/DNIanjs7YskpBO8CR2f/Gkp1Lw0Cdu2sQKcoigC0F7Ex18QPA5LHVkZ20Qg3DODmGrUUG9v/zUBESJxObF+4eiFRDjISqao0zeIf/EZqnyWAGx5pDXiSbDYPtn/pVjSMDUKKavi6OmainIJclAxPNYwMUTCkytyG8JRAQ4xazXY2cEJS0eEjwwDkgblCLeIA/UcG7Rtj1L42u/0H3lHMWqegj/JQPRCdEEZ6FR+w2r61OijpCSQ7QoHUu4eLXpMXkIVZCJ+VIa7cVSq3VXPLMfgZ/Lpb2m4k85p/AzvRdIc3+/ABAAAAAElFTkSuQmCC"}}]);