(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73a1bd90"],{"834d":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("c946"),i=(a("617d"),a("a896")),r=a("30d1"),s=a("256f");function o(e){if(!(e.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");var t,a=e.inversePixelTransform[0],o=e.frameState,c=Object(i["f"])(e.inversePixelTransform.slice(),o.coordinateToPixelTransform),l=Object(r["b"])(o.viewState.resolution,a),h=Object(s["l"])();return h&&(t=Object(s["k"])(h,o.viewState.projection)),new n["a"](e.context,a,o.extent,c,o.viewState.rotation,l,t)}},bf22:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"map",staticClass:"map-container",attrs:{id:"map"}})},i=[],r=(a("d81d"),a("99af"),a("69af")),s=(a("5bc0"),a("5eee")),o=a("d0e9"),c=a("480c"),l=a("a2c7"),h=a("3e6b"),u=a("4cdf"),w=a("5bc3"),d=a("7a09"),f=a("5831"),p=a("6c77"),b=a("83a6"),m=a("8682"),v=a("8295"),g=a("834d"),y=a("ca42"),S={name:"RadarAnimation",mixins:[r["a"]],data:function(){return{map:null,sectorLayer:null,center:[13384755.517469,3529894.878215],radius:1500,direction:45,viewRange:90,labelSpace:400,start:Date.now(),speed:6e3}},mounted:function(){this.initMap()},beforeDestroy:function(){this.sectorLayer.un("postrender",this.animation)},methods:{initMap:function(){this.map=new s["a"]({target:"map",layers:[new c["a"]({source:new o["a"]({wrapX:!1})})],view:new l["a"]({center:[13384755.517469,3529894.878215],zoom:15})}),this.sectorLayer=this.getSector(),this.sectorLayer.on("postrender",this.animation),this.map.addLayer(this.sectorLayer)},getSector:function(){for(var e=this.getPoints(this.center,this.radius,this.direction,this.viewRange,!0),t=new u["a"]({geometry:new w["a"]([e]),style:new p["c"]({fill:new b["a"]({color:"rgba(0,37,41,.4)"})})}),a=Math.ceil(this.radius/this.labelSpace),n=[],i=this.radius%this.labelSpace,r=0;r<a;r++){var s=this.getPoints(this.center,0===i?(r+1)*this.labelSpace:r*this.labelSpace+i,this.direction,this.viewRange,!1),o=new u["a"]({geometry:new d["a"](s),style:new p["c"]({stroke:new m["a"]({color:"rgba(0,0,0,0.4)",width:1}),text:new v["a"]({text:"".concat(i?(r+1)*this.labelSpace:r*this.labelSpace+i,"m"),placement:"line",textBaseline:"bottom",rotateWithView:!0,fill:new b["a"]({color:"rgba(0, 0, 0, 0.4)"})})})});n.push(o)}return new h["a"]({style:function(e){return e.get("style")},source:new f["a"]({features:[t].concat(n),wrapX:!1})})},getPoints:function(e,t,a,n,i){var r=[];i&&r.push(e);for(var s=5e3,o=(a-n/2)*(Math.PI/180),c=n/s*(Math.PI/180),l=0;l<=s;l++){var h=o+l*c,u=e[0]+t*Math.cos(h),w=e[1]+t*Math.sin(h);r.push([u,w])}return i&&r.push(e),r},animation:function(e){var t=Object(g["a"])(e),a=e.frameState,n=a.time-this.start,i=0,r=.3;n>this.speed?(i=this.radius,r=0,this.start=Date.now()):(i=Object(y["b"])(n/this.speed)*this.radius,r*=Object(y["b"])(1-n/this.speed)),t.setStyle(new p["c"]({fill:new b["a"]({color:"rgba(255,0,0,".concat(r,")")})}));var s=this.getPoints(this.center,i,this.direction,this.viewRange,!0),o=new w["a"]([s]);t.drawGeometry(o),this.map.render()}}},x=S,j=a("2877"),O=Object(j["a"])(x,n,i,!1,null,null,null);t["default"]=O.exports}}]);