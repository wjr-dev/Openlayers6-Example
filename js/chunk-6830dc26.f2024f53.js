(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6830dc26"],{"0710":function(t,e,n){"use strict";var i=n("e269"),o=n("592d"),r={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},a=n("cd7e"),s=n("0af5"),c=n("1e8d"),l=n("0999"),d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},u=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a["d"],n.element.style.position="absolute",n.element.style.pointerEvents="auto";var i=e.autoPan;return i&&"object"!==typeof i&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener(h.ELEMENT,n.handleElementChanged),n.addChangeListener(h.MAP,n.handleMapChanged),n.addChangeListener(h.OFFSET,n.handleOffsetChanged),n.addChangeListener(h.POSITION,n.handlePositionChanged),n.addChangeListener(h.POSITIONING,n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:r.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return d(e,t),e.prototype.getElement=function(){return this.get(h.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(h.MAP)},e.prototype.getOffset=function(){return this.get(h.OFFSET)},e.prototype.getPosition=function(){return this.get(h.POSITION)},e.prototype.getPositioning=function(){return this.get(h.POSITIONING)},e.prototype.handleElementChanged=function(){Object(l["d"])(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(l["e"])(this.element),Object(c["c"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(c["a"])(t,o["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(h.ELEMENT,t)},e.prototype.setMap=function(t){this.set(h.MAP,t)},e.prototype.setOffset=function(t){this.set(h.OFFSET,t)},e.prototype.setPosition=function(t){this.set(h.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(h.POSITION)){var n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),o=this.getRect(i,[Object(l["c"])(i),Object(l["b"])(i)]),r=t||{},a=void 0===r.margin?20:r.margin;if(!Object(s["g"])(n,o)){var c=o[0]-n[0],d=n[2]-o[2],u=o[1]-n[1],p=n[3]-o[3],f=[0,0];if(c<0?f[0]=c-a:d<0&&(f[0]=Math.abs(d)+a),u<0?f[1]=u-a:p<0&&(f[1]=Math.abs(p)+a),0!==f[0]||0!==f[1]){var y=e.getView().getCenterInternal(),v=e.getPixelFromCoordinateInternal(y);if(!v)return;var g=[v[0]+f[0],v[1]+f[1]],m=r.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(g),duration:m.duration,easing:m.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(h.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var a=Math.round(t[0]+i[0])+"px",s=Math.round(t[1]+i[1])+"px",c="0%",l="0%";o==r.BOTTOM_RIGHT||o==r.CENTER_RIGHT||o==r.TOP_RIGHT?c="-100%":o!=r.BOTTOM_CENTER&&o!=r.CENTER_CENTER&&o!=r.TOP_CENTER||(c="-50%"),o==r.BOTTOM_LEFT||o==r.BOTTOM_CENTER||o==r.BOTTOM_RIGHT?l="-100%":o!=r.CENTER_LEFT&&o!=r.CENTER_CENTER&&o!=r.CENTER_RIGHT||(l="-50%");var d="translate("+c+", "+l+") translate("+a+", "+s+")";this.rendered.transform_!=d&&(this.rendered.transform_=d,n.transform=d,n.msTransform=d)},e.prototype.getOptions=function(){return this.options},e}(i["a"]);e["a"]=u},"10ea":function(t,e,n){"use strict";n("1abd")},"1abd":function(t,e,n){},"2ce2":function(t,e,n){"use strict";var i=n("e300"),o=n("183a"),r=n("cef7"),a=n("f623"),s=n("4334"),c=n("3e6b"),l=n("57cb"),d=n("38f3"),h=n("6c77"),u=n("9f5e"),p=n("1300"),f=n("06f8"),y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v={SELECT:"select"},g=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.selected=n,r.deselected=i,r.mapBrowserEvent=o,r}return y(e,t),e}(r["a"]),m={},O=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o,r=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=r.condition?r.condition:f["m"],n.addCondition_=r.addCondition?r.addCondition:f["h"],n.removeCondition_=r.removeCondition?r.removeCondition:f["h"],n.toggleCondition_=r.toggleCondition?r.toggleCondition:f["l"],n.multi_=!!r.multi&&r.multi,n.filter_=r.filter?r.filter:l["b"],n.hitTolerance_=r.hitTolerance?r.hitTolerance:0,n.style_=void 0!==r.style?r.style:_(),n.features_=r.features||new i["a"],r.layers)if("function"===typeof r.layers)o=r.layers;else{var a=r.layers;o=function(t){return Object(u["d"])(a,t)}}else o=l["b"];return n.layerFilter_=o,n.featureLayerAssociation_={},n}return y(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(p["c"])(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(p["c"])(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();n&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(o["a"].ADD,this.boundAddFeature_),this.features_.addEventListener(o["a"].REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(o["a"].ADD,this.boundAddFeature_),this.features_.removeEventListener(o["a"].REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var n=this.getMap().getAllLayers().find((function(t){if(t instanceof c["a"]&&t.getSource()&&t.getSource().hasFeature(e))return t}));n&&this.addFeatureLayerAssociation_(e,n)}},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=Object(p["c"])(t);e in m||(m[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var o=n[i];if(o!==this&&o instanceof e&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(o.getStyle())}var r=Object(p["c"])(t);t.setStyle(m[r]),delete m[r]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(p["c"])(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),o=!e&&!n&&!i,r=t.map,a=this.getFeatures(),s=[],c=[];if(o){Object(d["b"])(this.featureLayerAssociation_),r.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),c.push(t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=a.getLength()-1;l>=0;--l){var h=a.item(l),p=c.indexOf(h);p>-1?c.splice(p,1):(a.remove(h),s.push(h))}0!==c.length&&a.extend(c)}else{r.forEachFeatureAtPixel(t.pixel,function(t,o){if(this.filter_(t,o))return!e&&!i||Object(u["d"])(a.getArray(),t)?(n||i)&&Object(u["d"])(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(this.addFeatureLayerAssociation_(t,o),c.push(t)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=s.length-1;f>=0;--f)a.remove(s[f]);a.extend(c)}return(c.length>0||s.length>0)&&this.dispatchEvent(new g(v.SELECT,c,s,t)),!0},e}(s["a"]);function _(){var t=Object(h["b"])();return Object(u["c"])(t[a["a"].POLYGON],t[a["a"].LINE_STRING]),Object(u["c"])(t[a["a"].GEOMETRY_COLLECTION],t[a["a"].LINE_STRING]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}e["a"]=O},"7a09":function(t,e,n){"use strict";var i=n("521b"),o=n("f623"),r=n("9abc"),a=n("9769"),s=n("0af5"),c=n("abb7"),l=n("1c48"),d=n("9f5e"),h=n("fd4d"),u=n("bb6c"),p=n("b1a2"),f=n("c560"),y=n("5938"),v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return v(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(d["c"])(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(s["e"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i["a"].XYM&&this.layout!=i["a"].XYZM)return null;var n=void 0!==e&&e;return Object(p["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Object(y["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(l["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,i["a"].XY)},e.prototype.getType=function(){return o["a"].LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(r["a"]);e["a"]=g},"834d":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("c946"),o=(n("617d"),n("a896")),r=n("30d1"),a=n("256f");function s(t){if(!(t.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");var e,n=t.inversePixelTransform[0],s=t.frameState,c=Object(o["f"])(t.inversePixelTransform.slice(),s.coordinateToPixelTransform),l=Object(r["b"])(s.viewState.resolution,n),d=Object(a["l"])();return d&&(e=Object(a["k"])(d,s.viewState.projection)),new i["a"](t.context,n,s.extent,c,s.viewState.rotation,l,e)}},b1a2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var i=n("9f5e"),o=n("7fc9");function r(t,e,n,r,a,s,c){var l,d,h=(n-e)/r;if(1===h)l=e;else if(2===h)l=e,d=a;else if(0!==h){for(var u=t[e],p=t[e+1],f=0,y=[0],v=e+r;v<n;v+=r){var g=t[v],m=t[v+1];f+=Math.sqrt((g-u)*(g-u)+(m-p)*(m-p)),y.push(f),u=g,p=m}var O=a*f,_=Object(i["a"])(y,O);_<0?(d=(O-y[-_-2])/(y[-_-1]-y[-_-2]),l=e+(-_-2)*r):l=e+_*r}var b=c>1?c:2,T=s||new Array(b);for(v=0;v<b;++v)T[v]=void 0===l?NaN:void 0===d?t[l+v]:Object(o["e"])(t[l+v],t[l+r+v],d);return T}function a(t,e,n,i,r,a){if(n==e)return null;var s;if(r<t[e+i-1])return a?(s=t.slice(e,e+i),s[i-1]=r,s):null;if(t[n-1]<r)return a?(s=t.slice(n-i,n),s[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);var c=e/i,l=n/i;while(c<l){var d=c+l>>1;r<t[(d+1)*i-1]?l=d:c=d+1}var h=t[c*i-1];if(r==h)return t.slice((c-1)*i,(c-1)*i+i);var u=t[(c+1)*i-1],p=(r-h)/(u-h);s=[];for(var f=0;f<i-1;++f)s.push(Object(o["e"])(t[(c-1)*i+f],t[c*i+f],p));return s.push(r),s}function s(t,e,n,i,o,r,s){if(s)return a(t,e,n[n.length-1],i,o,r);var c;if(o<t[i-1])return r?(c=t.slice(0,i),c[i-1]=o,c):null;if(t[t.length-1]<o)return r?(c=t.slice(t.length-i),c[i-1]=o,c):null;for(var l=0,d=n.length;l<d;++l){var h=n[l];if(e!=h){if(o<t[e+i-1])return null;if(o<=t[h-1])return a(t,e,h,i,o,!1);e=h}}return null}},d2be:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-box"},[n("div",{ref:"map",staticClass:"map-container",attrs:{id:"map"}}),n("div",{ref:"popover",attrs:{id:"popover"}},[n("a-icon",{staticClass:"popover-close",attrs:{type:"close"},on:{click:t.handleClosePopover}}),n("p",[t._v("目标轨迹：")]),n("span",[t._v("速度："+t._s(t.TrackSpeed)+" m/s")])],1)])},o=[],r=(n("fb6a"),n("d81d"),n("69af")),a=(n("5bc0"),n("5eee")),s=n("d0e9"),c=n("480c"),l=n("a2c7"),d=n("4cdf"),h=n("7a09"),u=n("5bc3"),p=n("f403"),f=n("6c77"),y=n("8682"),v=n("83a6"),g=n("ce2c"),m=n("3e6b"),O=n("5831"),_=n("834d"),b=n("ca42"),T=n("2ce2"),E=n("4105"),C=n("06f8"),P=n("0710"),w={name:"ShowTrackInfo",mixins:[r["a"]],data:function(){return{map:null,speed:300,trackObj:[{coordinate:[13382758.600105051,3529634.5145874037],speed:1.2},{coordinate:[13383231.554217564,3529644.0692159394],speed:1.3},{coordinate:[13383393.98290267,3529648.846530207],speed:1.1},{coordinate:[13383475.197245223,3529687.06504435],speed:.6},{coordinate:[13383532.525016438,3529734.838187028],speed:1.4},{coordinate:[13383575.520844849,3529820.829843849],speed:1.2},{coordinate:[13383651.957873134,3529892.489557866],speed:1.3},{coordinate:[13383752.281472757,3529949.81732908],speed:1.3},{coordinate:[13383905.155529328,3530007.145100294],speed:1.2},{coordinate:[13384024.588386023,3530016.69972883],speed:1},{coordinate:[13384191.794385398,3530026.2543573654],speed:1.5},{coordinate:[13384411.550841717,3530035.808985901],speed:1.8},{coordinate:[13384636.084612304,3530097.9140713825],speed:1.6},{coordinate:[13384841.509125821,3530193.460356739],speed:1.7},{coordinate:[13384960.941982517,3530284.2293278277],speed:1.2},{coordinate:[13385118.593353355,3530379.775613184],speed:1.4},{coordinate:[13385261.91278139,3530503.9857841474],speed:1.8},{coordinate:[13385419.564152228,3530585.2001267006],speed:1.1},{coordinate:[13385591.54746587,3530661.6371549857],speed:1},{coordinate:[13385878.186321938,3530742.851497539],speed:2},{coordinate:[13386174.379806545,3530809.7338972883],speed:1.9},{coordinate:[13386461.018662613,3530881.393611306],speed:1.6},{coordinate:[13386699.884376004,3530723.7422404676],speed:1.7},{coordinate:[13386852.758432575,3530609.08669804],speed:1.3},{coordinate:[13386967.413975002,3530403.6621845234],speed:1.6},{coordinate:[13387005.632489145,3530226.901556614],speed:1.8},{coordinate:[13387010.409803413,3530083.5821285793],speed:1.5},{coordinate:[13386981.745917806,3529964.1492718835],speed:1.7},{coordinate:[13386890.976946717,3529844.716415188],speed:1.9},{coordinate:[13386790.653347094,3529706.1743014213],speed:1.4},{coordinate:[13386633.001976255,3529591.518758993],speed:1.2},{coordinate:[13386451.464034079,3529510.3044164404],speed:1.4},{coordinate:[13386040.615007045,3529639.2919016713],speed:1.6},{coordinate:[13385796.971979385,3529706.1743014213],speed:1.5},{coordinate:[13385534.219694655,3529782.6113297064],speed:1.7},{coordinate:[13385333.572495406,3529935.4853862766],speed:1.9},{coordinate:[13385319.240552604,3530193.460356739],speed:1.1},{coordinate:[13385118.593353355,3530437.103384398],speed:1.8},{coordinate:[13384793.735983143,3530599.5320695043],speed:1.3},{coordinate:[13384363.777699038,3530747.6288118064],speed:1.7}],length:10,trackLayer:null,infoOverlay:null,start:Date.now(),timer:null,infoVisible:!1,TrackSpeed:0}},computed:{trackData:function(){return this.trackObj.slice(0,this.length)}},mounted:function(){var t=this;this.initMap(),this.timer=setInterval((function(){t.length<40?t.length++:t.length=2}),500)},watch:{trackData:function(t){this.trackLayer&&(this.trackLayer.un("postrender",this.animation),this.map.removeLayer(this.trackLayer),this.trackLayer=null,this.trackLayer=this.drawTrack(t),this.map.addLayer(this.trackLayer),this.infoVisible&&(this.infoOverlay.setPosition(this.trackData.slice(-1)[0].coordinate),this.TrackSpeed=this.trackData.slice(-1)[0].speed),this.trackLayer.on("postrender",this.animation))}},beforeDestroy:function(){this.trackLayer&&this.trackLayer.un("postrender",this.animation),this.timer&&(clearInterval(this.timer),this.timer=null)},methods:{initMap:function(){this.map=new a["a"]({target:"map",layers:[new c["a"]({source:new s["a"]})],view:new l["a"]({center:[13384755.517469,3529894.878215],zoom:15})}),this.trackLayer=this.drawTrack(this.trackData),this.infoOverlay=this.getInfoOverlay(),this.map.addLayer(this.trackLayer),this.map.addOverlay(this.infoOverlay);var t=this.changeCursor(),e=this.trackLayerClick();this.map.addInteraction(t),this.map.addInteraction(e),this.trackLayer.on("postrender",this.animation)},drawTrack:function(t){var e=t.map((function(t){return t.coordinate})),n=new d["a"]({geometry:new h["a"](e),style:new f["c"]({stroke:new y["a"]({color:"red",lineDash:[7,10],width:2})})}),i=this.getArrowPoints(e),o=new d["a"]({geometry:new u["a"]([i]),style:new f["c"]({fill:new v["a"]({color:"red"})})});return new m["a"]({style:function(t){return t.get("style")},source:new O["a"]({features:[n,o]})})},getInfoOverlay:function(){return new P["a"]({element:document.getElementById("popover"),autoPan:!0,autoPanAnimation:{duration:250}})},getArrowPoints:function(t){var e=66,n=20,i=t.length,o=t[i-2],r=t[i-1],a=180*Math.atan2(r[1]-o[1],r[0]-o[0])/Math.PI,s=[],c=[];return s[0]=r[0]-Math.cos((a+n)*Math.PI/180)*e,s[1]=r[1]-Math.sin((a+n)*Math.PI/180)*e,c[0]=r[0]-Math.cos((a-n)*Math.PI/180)*e,c[1]=r[1]-Math.sin((a-n)*Math.PI/180)*e,[r,s,c,r]},animation:function(t){var e=Object(_["a"])(t),n=t.frameState,i=n.time-this.start,o=10,r=.5;i>this.speed?(o=10,r=.5,this.start=Date.now()):(o=10*Object(b["b"])(i/this.speed),r*=Object(b["b"])(1-i/this.speed)),e.setStyle(new f["c"]({image:new g["a"]({radius:o,fill:new v["a"]({color:"rgba(255,0,0,".concat(r,")")})})}));var a=new p["a"](this.trackData[this.length-1].coordinate);e.drawGeometry(a),this.map.render()},trackLayerClick:function(){var t=this;return new T["a"]({layers:[t.trackLayer],condition:C["m"],style:"falsey",toggleCondition:function(e){var n=t.map.forEachFeatureAtPixel(e.pixel,(function(t){return t}),{hitTolerance:0});n?(t.infoVisible=!0,t.TrackSpeed=t.trackData.slice(-1)[0].speed,t.infoOverlay.setPosition(t.trackData.slice(-1)[0].coordinate)):(t.infoVisible=!1,t.TrackSpeed=0,t.infoOverlay.setPosition(void 0))}})},changeCursor:function(){var t=this;return new E["b"]({handleMoveEvent:function(e){var n=t.map.forEachFeatureAtPixel(e.pixel,(function(t){return t}),{hitTolerance:0});t.map.getTargetElement().style.cursor=n?"pointer":"auto"}})},handleClosePopover:function(){this.infoVisible=!1,this.infoOverlay.setPosition(void 0)}}},L=w,M=(n("10ea"),n("2877")),I=Object(M["a"])(L,i,o,!1,null,"e73523c4",null);e["default"]=I.exports},fb6a:function(t,e,n){"use strict";var i=n("23e7"),o=n("da84"),r=n("e8b5"),a=n("68ee"),s=n("861d"),c=n("23cb"),l=n("07fa"),d=n("fc6a"),h=n("8418"),u=n("b622"),p=n("1dde"),f=n("f36a"),y=p("slice"),v=u("species"),g=o.Array,m=Math.max;i({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,i,o,u=d(this),p=l(u),y=c(t,p),O=c(void 0===e?p:e,p);if(r(u)&&(n=u.constructor,a(n)&&(n===g||r(n.prototype))?n=void 0:s(n)&&(n=n[v],null===n&&(n=void 0)),n===g||void 0===n))return f(u,y,O);for(i=new(void 0===n?g:n)(m(O-y,0)),o=0;y<O;y++,o++)y in u&&h(i,o,u[y]);return i.length=o,i}})}}]);